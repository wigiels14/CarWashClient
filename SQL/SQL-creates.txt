DROP TABLE SERVICE_DISCOUNTS;
DROP TABLE SERVICE_CAR_STATION_EMPLOYEES;
DROP TABLE SERVICE;
DROP TABLE PAYMENT;
DROP TABLE VEHICLE;
DROP TABLE CUSTOMER;
DROP TABLE DISCOUNT;
DROP TABLE CAR_STATION_EMPLOYEE;

CREATE TABLE CUSTOMER(
ID NUMERIC(10) NOT NULL PRIMARY KEY,
FIRST_NAME VARCHAR(30) NOT NULL,
LAST_NAME VARCHAR(30) NOT NULL,
PESEL VARCHAR(11) NOT NULL,
ID_NUMBER VARCHAR(9) NOT NULL,
ACCOUNT_BALLANCE NUMERIC(10) NOT NULL
);

CREATE TABLE CAR_STATION_EMPLOYEE(
ID NUMERIC(10) NOT NULL PRIMARY KEY,
FIRST_NAME VARCHAR(30) NOT NULL,
LAST_NAME VARCHAR(30) NOT NULL,
PESEL VARCHAR(11) NOT NULL,
ID_NUMBER VARCHAR(9) NOT NULL
);

CREATE TABLE VEHICLE(
ID NUMERIC(10) NOT NULL PRIMARY KEY,
MARK VARCHAR(30) NOT NULL,
MODEL VARCHAR(30) NOT NULL,
OWNER NUMERIC(5) REFERENCES CUSTOMER(ID)
);

CREATE TABLE PAYMENT(
ID NUMERIC(10) NOT NULL PRIMARY KEY,
CASH_AMOUNT NUMERIC(10) NOT NULL
);

CREATE TABLE DISCOUNT(
ID NUMERIC(10) NOT NULL PRIMARY KEY,
AMOUNT NUMERIC(5) NOT NULL,
DESCRIPTION VARCHAR(100) NOT NULL
);

CREATE TABLE SERVICE(
ID NUMERIC(10) NOT NULL PRIMARY KEY,
PAYMENT_ID NUMERIC(10) NOT NULL REFERENCES PAYMENT(ID),
VEHICLE_ID NUMERIC(10) NOT NULL REFERENCES VEHICLE(ID),
SERVICE_DATE DATE NOT NULL
);

CREATE TABLE SERVICE_DISCOUNTS(
SERVICE_ID NUMERIC(5) NOT NULL REFERENCES SERVICE(ID),
DISCOUNT_ID NUMERIC(5) NOT NULL REFERENCES DISCOUNT(ID),
PRIMARY KEY(SERVICE_ID, DISCOUNT_ID)
);

CREATE TABLE SERVICE_CAR_STATION_EMPLOYEES(
SERVICE_ID NUMERIC(5) NOT NULL REFERENCES SERVICE(ID),
CAR_STATION_EMPLOYEE_ID NUMERIC(5) NOT NULL REFERENCES CAR_STATION_EMPLOYEE(ID),
PRIMARY KEY(SERVICE_ID, CAR_STATION_EMPLOYEE_ID)
);