DROP TABLE SERVICE_CAR_STATION_EMPLOYEES;
DROP TABLE SERVICE_DISCOUNTS;
DROP TABLE SERVICE_ORDERS;
DROP TABLE SERVICE;
DROP TABLE CUSTMER_DISCOUNTS;
DROP TABLE DISCOUNT;
DROP TABLE REMMITANCE;
DROP TABLE ORDERS;
DROP TABLE PAYMENT;
DROP TABLE VEHICLE;
DROP TABLE CAR_STATION_EMPLOYEE;
DROP TABLE CUSTOMER;

CREATE TABLE CUSTOMER(
ID NUMERIC(10) NOT NULL PRIMARY KEY,
FIRST_NAME VARCHAR(30) NOT NULL,
LAST_NAME VARCHAR(30) NOT NULL,
PESEL VARCHAR(11) NOT NULL,
ID_NUMBER VARCHAR(9) NOT NULL,
ACCOUNT_BALLANCE NUMERIC(10) NOT NULL
);

CREATE TABLE CAR_STATION_EMPLOYEE(
ID NUMERIC(10) NOT NULL PRIMARY KEY,
FIRST_NAME VARCHAR(30) NOT NULL,
LAST_NAME VARCHAR(30) NOT NULL,
PESEL VARCHAR(11) NOT NULL,
ID_NUMBER VARCHAR(9) NOT NULL
);

CREATE TABLE VEHICLE(
ID NUMERIC(10) NOT NULL PRIMARY KEY,
MARK VARCHAR(30) NOT NULL,
MODEL VARCHAR(30) NOT NULL,
CUSTOMER_ID NUMERIC(10) REFERENCES CUSTOMER(ID)
);

CREATE TABLE PAYMENT(
ID NUMERIC(10) NOT NULL PRIMARY KEY
);

CREATE TABLE ORDERS(
ID NUMERIC(10) NOT NULL PRIMARY KEY,
PAYMENT_ID NUMERIC(10) REFERENCES PAYMENT(ID),
VEHICLE_ID NUMERIC(10) REFERENCES VEHICLE(ID),
STATE VARCHAR(30) NOT NULL
);

CREATE TABLE REMMITANCE(
ID NUMERIC(10) NOT NULL PRIMARY KEY,
ORDERS_ID NUMERIC(10) REFERENCES ORDERS(ID)
);

CREATE TABLE DISCOUNT(
ID NUMERIC(10) NOT NULL PRIMARY KEY,
AMOUNT NUMERIC(5) NOT NULL,
DESCRIPTION VARCHAR(100) NOT NULL
);

CREATE TABLE CUSTMER_DISCOUNTS(
CUSTMER_ID NUMERIC(10) REFERENCES CUSTOMER(ID),
DISCOUNT_ID NUMERIC(10) REFERENCES DISCOUNT(ID),
PRIMARY KEY(CUSTMER_ID, DISCOUNT_ID)
);

CREATE TABLE SERVICE(
ID NUMERIC(10) NOT NULL PRIMARY KEY
);

CREATE TABLE SERVICE_ORDERS(
SERVICE_ID NUMERIC(10) NOT NULL REFERENCES SERVICE(ID),
ORDER_ID NUMERIC(10) NOT NULL REFERENCES ORDERS(ID),
PRIMARY KEY(SERVICE_ID, ORDER_ID)
);

CREATE TABLE SERVICE_DISCOUNTS(
SERVICE_ID NUMERIC(10) NOT NULL REFERENCES SERVICE(ID),
DISCOUNT_ID NUMERIC(10) NOT NULL REFERENCES DISCOUNT(ID),
PRIMARY KEY(SERVICE_ID, DISCOUNT_ID)
);

CREATE TABLE SERVICE_CAR_STATION_EMPLOYEES(
SERVICE_ID NUMERIC(10) NOT NULL REFERENCES SERVICE(ID),
CAR_STATION_EMPLOYEE_ID NUMERIC(10) NOT NULL REFERENCES CAR_STATION_EMPLOYEE(ID),
PRIMARY KEY(SERVICE_ID, CAR_STATION_EMPLOYEE_ID)
);
